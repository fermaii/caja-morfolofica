<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Caja Morfológica Digital - Método Gerstner</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f4f4f4; }
        .matrix-container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        th { background: #eee; }
        .selected { background-color: #007bff; color: white; cursor: pointer; }
        .selectable { cursor: pointer; transition: 0.2s; }
        .selectable:hover { background: #e9ecef; }
        .result-box { margin-top: 30px; padding: 15px; background: #333; color: #fff; border-radius: 5px; }
    </style>
</head>
<body>

<div class="matrix-container">
    <h2>Matriz Morfológica Personalizable</h2>
    <p>Haz clic en las opciones para construir tu solución de diseño.</p>
    
    <table id="morphTable">
        <thead>
            <tr>
                <th>Parámetro</th>
                <th colspan="4">Componentes (Opciones)</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            </tbody>
    </table>

    <div class="result-box">
        <strong>Cadena de Solución:</strong> <span id="solutionPath">Selecciona opciones...</span>
    </div>
</div>

<script>
    // Datos iniciales basados en la imagen "c Apariencia" de Gerstner
    const data = [
        { parameter: "c1. Tamaño", options: ["11. Pequeño", "12. medio", "13. grande", "14. combinado"] },
        { parameter: "c2. Proporción", options: ["21. estrecho", "22. redonda", "23. ancho", "24. combinado"] },
        { parameter: "c3. Grosor", options: ["31. fino", "32. normal", "33. negra", "34. combinado"] }
    ];

    const tableBody = document.getElementById('tableBody');
    const solutionPath = document.getElementById('solutionPath');
    let selections = {};

    function renderTable() {
        tableBody.innerHTML = "";
        data.forEach((row, index) => {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td><strong>${row.parameter}</strong></td>`;
            
            row.options.forEach(opt => {
                const td = document.createElement('td');
                td.innerText = opt;
                td.className = "selectable";
                td.onclick = () => selectOption(index, opt, td);
                tr.appendChild(td);
            });
            tableBody.appendChild(tr);
        });
    }

    function selectOption(rowIndex, optionValue, element) {
        // Deseleccionar otros en la misma fila
        const rowItems = element.parentNode.querySelectorAll('td');
        rowItems.forEach(td => td.classList.remove('selected'));
        
        // Seleccionar actual
        element.classList.add('selected');
        selections[rowIndex] = optionValue;
        
        updateResult();
    }

    function updateResult() {
        const path = Object.values(selections).join(' - ');
        solutionPath.innerText = path || "Selecciona opciones...";
    }

    renderTable();
</script>
</body>
</html>
